services:

    github.archive:
        class: 'QL\Hal\Agent\Github\ArchiveApi'
        arguments: ['@github.client', '@logger.mcp']

    github.references:
        class: 'Github\Api\GitData\References'
        arguments: ['@github.client']
    github.commits:
        class: 'Github\Api\Repository\Commits'
        arguments: ['@github.client']
    github.pullRequests:
        class: 'Github\Api\PullRequest'
        arguments: ['@github.client']

    github.client:
        class: 'QL\Hal\Agent\Github\EnterpriseClient'
        arguments:
            - '@github.http.client.builder'
            - null
            - '%github.baseurl.site%'
        calls:
            - ['authenticate', ['%github.token%', null, 'http_token']]

    github.http.client.builder:
        class: 'Github\HttpClient\Builder'
        arguments:
            - '@guzzle.github.adapter.client'

    github.guzzleHttpClient:
        class: 'GuzzleHttp\Client'
