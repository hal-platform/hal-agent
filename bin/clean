#!/usr/bin/env bash
rm -rf vendor
rm -rf composer.lock

DIR=$( cd "$( dirname "$0" )" && pwd )
DELFILES=(
    "composer.lock"
    "src/CachedContainer.php"
)

DELFOLDERS=(
    ".archive"
    ".build"
    "vendor"
)

# Remove files
for i in ${DELFILES[@]}
do
    FILE="$DIR/../$i"
    EXISTS=$(test -e $FILE && echo 1 || echo 0)
    if [[ $EXISTS -eq "1" ]]; then
        echo "Removing $FILE"
        rm -f "$FILE"
    fi

done

# Remove directories
for i in ${DELFOLDERS[@]}
do
    FILE="$DIR/../$i"
    EXISTS=$(test -e $FILE && echo 1 || echo 0)
    if [[ $EXISTS -eq "1" ]]; then
        echo "Removing $FILE"
        rm -r "$FILE"
    fi
done
