#!/usr/bin/env php
<?php

namespace QL\Hal\Agent;

use Symfony\Component\Debug\ErrorHandler;

# autoloader - try standalone installation then dependency installation
(@include_once __DIR__ . '/../vendor/autoload.php') || @require_once __DIR__ . '/../../../autoload.php';

$bootstrap = new Bootstrap(__DIR__ . '/../');
$bootstrap->load();
$di = $bootstrap->container();

ErrorHandler::register(E_ALL, false);
ErrorHandler::setLogger($di->get('agent.logger'), 'emergency');

$bootstrap();
