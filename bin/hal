#!/usr/bin/env php
<?php

namespace Hal\Agent\Bootstrap;

use Hal\Agent\Application\DI2;
use Hal\Agent\CachedContainer;
use Symfony\Component\Debug\ErrorHandler;

$root = realpath(__DIR__ . '/..');
if (!$container = @include "${root}/config/bootstrap.php") {
    echo "Boom goes the dynamite.\n";
    exit(1);
};

$err = ErrorHandler::register();
$err->setDefaultLogger($container->get('logger'));

$app = $container->get('application');

$app->run();
