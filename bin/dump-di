#!/usr/bin/env php
<?php

namespace Hal\Agent\Bootstrap;

use Hal\Agent\Application\Di;
use Hal\Agent\Application\EnvConfigLoader;

$root = __DIR__ . '/..';
require_once $root . '/configuration/bootstrap.php';

$file = $root . '/src/CachedContainer.php';
$class = 'QL\Hal\Agent\CachedContainer';
$container = Di::buildDi($root, [new EnvConfigLoader, 'load']);

file_put_contents($file, Di::dumpDi($container, $class));

echo <<<OUTPUT
Dumping DI Container cache:
File: $file
Class: $class

OUTPUT;
