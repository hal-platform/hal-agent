#!/usr/bin/env php
<?php

namespace Hal\Bin;

use Hal\Agent\Application\Di;
use Hal\Agent\CachedContainer;
use QL\Hal\Core\Utility\DoctrineProxyGenerator;

$root = __DIR__ . '/..';
require_once $root . '/configuration/bootstrap.php';
$di = Di::getDi($root, CachedContainer::class);

/** @var DoctrineProxyGenerator $generator */
$generator = $di->get('doctrine.proxy.generator');

$success = $generator();
echo $generator->output();

if (!$success) {
    exit(1);
}
